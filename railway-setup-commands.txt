# ============================================================================
# RAILWAY SETUP - Wszystkie komendy do wykonania
# ============================================================================

# 1. OTW√ìRZ RAILWAY DASHBOARD
# https://railway.app

# 2. UTW√ìRZ PROJEKT (je≈õli nie istnieje)
# - Kliknij "New Project"
# - Nazwa: WIG
# - Environment: production

# 3. DODAJ FRONTEND SERVICE
# ============================================================================
# W Railway Dashboard:
# - Kliknij "+ New Service"
# - Wybierz "GitHub Repo" ‚Üí SynergiaOS/trading_wig
# - Nazwa: frontend
#
# Settings ‚Üí Build:
#   Dockerfile Path: Dockerfile.frontend
#
# Settings ‚Üí Deploy:
#   Health Check Path: /
#   Health Check Timeout: 100
#   Restart Policy: ON_FAILURE
#   Max Retries: 10
#
# Settings ‚Üí Networking:
#   Generate Domain (kliknij)
#
# Settings ‚Üí Variables (dodaj):
NODE_ENV=production
PORT=4173
VITE_REFRESH_INTERVAL=30000
# UWAGA: VITE_API_URL i VITE_ANALYSIS_API_URL dodasz po deploy backend/analysis

# 4. DODAJ BACKEND SERVICE
# ============================================================================
# W Railway Dashboard:
# - Kliknij "+ New Service"
# - Wybierz "GitHub Repo" ‚Üí SynergiaOS/trading_wig
# - Nazwa: backend
#
# Settings ‚Üí Build:
#   Dockerfile Path: Dockerfile.backend
#
# Settings ‚Üí Deploy:
#   Health Check Path: /data
#   Health Check Timeout: 100
#   Restart Policy: ON_FAILURE
#   Max Retries: 10
#
# Settings ‚Üí Networking:
#   Generate Domain (kliknij)
#   üìù SKOPIUJ URL (bƒôdzie potrzebny p√≥≈∫niej)
#
# Settings ‚Üí Variables (dodaj):
PORT=8000
HOST=0.0.0.0
# Opcjonalnie (je≈õli masz osobne serwisy dla baz danych):
# POCKETBASE_URL=http://pocketbase.railway.internal:8090
# QUESTDB_HOST=questdb.railway.internal
# QUESTDB_PORT=9009
# QUESTDB_USER=admin
# QUESTDB_PASSWORD=quest
# REDIS_URL=redis://redis.railway.internal:6379

# 5. DODAJ ANALYSIS SERVICE
# ============================================================================
# W Railway Dashboard:
# - Kliknij "+ New Service"
# - Wybierz "GitHub Repo" ‚Üí SynergiaOS/trading_wig
# - Nazwa: analysis
#
# Settings ‚Üí Build:
#   Dockerfile Path: Dockerfile.analysis
#
# Settings ‚Üí Deploy:
#   Health Check Path: /api/analysis
#   Health Check Timeout: 100
#   Restart Policy: ON_FAILURE
#   Max Retries: 10
#
# Settings ‚Üí Networking:
#   Generate Domain (kliknij)
#   üìù SKOPIUJ URL (bƒôdzie potrzebny p√≥≈∫niej)
#
# Settings ‚Üí Variables (dodaj):
ANALYSIS_PORT=8001
ANALYSIS_HOST=0.0.0.0
# Opcjonalnie (te same co Backend):
# POCKETBASE_URL=http://pocketbase.railway.internal:8090
# QUESTDB_HOST=questdb.railway.internal
# QUESTDB_PORT=9009
# QUESTDB_USER=admin
# QUESTDB_PASSWORD=quest
# REDIS_URL=redis://redis.railway.internal:6379

# 6. DEPLOY SERWIS√ìW
# ============================================================================
# W Railway Dashboard:
# - Dla ka≈ºdego serwisu kliknij "Deploy"
# - Zaczekaj na zako≈Ñczenie builda i deploy
# - Sprawd≈∫ czy serwis dzia≈Ça (zielony status)

# 7. ZAKTUALIZUJ FRONTEND VARIABLES
# ============================================================================
# Po deploy Backend i Analysis:
# 1. Skopiuj URL-e z Settings ‚Üí Networking ‚Üí Domains:
#    - Backend: https://backend-production-XXXX.up.railway.app
#    - Analysis: https://analysis-production-XXXX.up.railway.app
#
# 2. W Frontend Service ‚Üí Settings ‚Üí Variables ‚Üí Add Variable:
#    VITE_API_URL=https://backend-production-XXXX.up.railway.app
#    VITE_ANALYSIS_API_URL=https://analysis-production-XXXX.up.railway.app
#
# 3. Railway automatycznie redeploy Frontend

# 8. WERYFIKACJA
# ============================================================================
# Sprawd≈∫ czy wszystkie serwisy dzia≈ÇajƒÖ:
# - Frontend: Otw√≥rz URL w przeglƒÖdarce
# - Backend: curl https://backend-XXXX.railway.app/data
# - Analysis: curl https://analysis-XXXX.railway.app/api/analysis

# ============================================================================
# KONIEC
# ============================================================================
